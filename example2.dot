digraph G {
    //splines=line;
    splines=true;
    rankdir=LR;
    newrank=true;
    compound=true;

    graph [fontname = "helvetica"];
    node [fontname = "helvetica"];
    edge [fontname = "helvetica"];

    //"src/util.ts" -> "fs" [ltail=cluster_z; lhead=cluster_zz];

    // files in their folder clusters
    subgraph cluster0 {
        color=white;
        "src/cli.ts" [shape=rectangle; label="cli.ts", style="rounded,filled"; color=darkslategray3];
        "src/lib.ts" [shape=rectangle; label="lib.ts", style="rounded,filled"; color=darkslategray3];
        "src/shallower-file.ts" [shape=rectangle; label="shallower-file.ts", style="rounded,filled"; color=darkslategray3];
        "src/util.ts" [shape=rectangle; label="util.ts", style="rounded,filled"; color=darkslategray3];
        subgraph cluster1 {
            label=<<b>subfolder</b>>;
            style="rounded,filled";
            fillcolor=bisque;
            color=bisque4;
            penwidth=2;
            "src/subfolder/deeper-file.ts" [shape=rectangle; label="deeper-file.ts", style="rounded,filled"; color=darkslategray3];
        }
    }

    // packages in their own cluster
    subgraph cluster2 {
        label=<<b>node_modules</b>>;
        color=cornsilk3;
        penwidth=3;
        style="rounded";

        "argparse" [shape=box3d, style=filled, fillcolor=cornsilk3, color=cornsilk4];
        "fs" [shape=box3d, style=filled, fillcolor=cornsilk3, color=cornsilk4];
        "path" [shape=box3d, style=filled, fillcolor=cornsilk3, color=cornsilk4];
    }

    // edges between files
    "src/cli.ts" -> "src/lib.ts" [penwidth=2; color=darkslategray4];
    "src/lib.ts" -> "src/util.ts" [penwidth=2; color=darkslategray4];
    "src/lib.ts" -> "src/shallower-file.ts" [penwidth=2; color=darkslategray4];
    "src/lib.ts" -> "src/subfolder/deeper-file.ts" [penwidth=2; color=darkslategray4];
    "src/subfolder/deeper-file.ts" -> "src/shallower-file.ts" [penwidth=2; color=darkslategray4];

    // edges from files to packages
    "src/cli.ts" -> "argparse" [penwidth=1.5; style=dashed, color=cornsilk4, weight=1];
    "src/lib.ts" -> "fs" [penwidth=1.5; style=dashed, color=cornsilk4, weight=1];
    "src/lib.ts" -> "path" [penwidth=1.5; style=dashed, color=cornsilk4, weight=1];

    // force packages to the bottom
    //"src/shallower-file.ts" -> "argparse" [style=invis];

}